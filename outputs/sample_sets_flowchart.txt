================================================================================
ä¸‰ä¸ªæ ·æœ¬é›†çš„æ•°æ®æµç¨‹å›¾
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸå§‹æ•°æ®æº                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ DataSD Streets (sd_paving_segs_datasd.shp)                  â”‚
â”‚  â€¢ Address Points (åœ°å€ç‚¹)                                      â”‚
â”‚  â€¢ Zoning Layer (åˆ†åŒºå›¾å±‚)                                      â”‚
â”‚  â€¢ CPD Polygons (ç¤¾åŒºè§„åˆ’åŒºåŸŸ)                                  â”‚
â”‚  â€¢ NHGIS Census Data (Block Groups + Tracts)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â†“                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  STREETS (32,888 segments)       â”‚    â”‚  CENSUS DATA             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ PCI: pci23 å­—æ®µ               â”‚    â”‚  Block Groups: 1,614     â”‚
â”‚  â€¢ Geometry: LineString          â”‚    â”‚  Tracts: 586             â”‚
â”‚  â€¢ Segment ID: iamfloc           â”‚    â”‚  (å·²è£å‰ªåˆ° City èŒƒå›´)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                      â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
                   ç©ºé—´è¿æ¥ (Spatial Join)
                   æœ€å¤§é¢ç§¯é‡å æ³•
                              â”‚
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â‘  SAMPLE SET 1: CITY OVERALL                                   â”‚
â”‚     = Streets + Census Demographics                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°é‡: 32,888 segments (100%)                                   â”‚
â”‚  åŒ…å«: City of San Diego æ‰€æœ‰è¡—æ®µ                               â”‚
â”‚  å˜é‡: PCI, income, education, race                             â”‚
â”‚  åœ°å›¾: âŒ æ—  (åŸºç¡€æ•°æ®)                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»Ÿè®¡:                                                           â”‚
â”‚    Avg PCI: 66.2                                                â”‚
â”‚    Per Capita Income: $60,611                                   â”‚
â”‚    Hispanic: 26.5%, White: 46.9%, Asian: 15.3%, Black: 4.6%   â”‚
â”‚    College+: 52.1%                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚  SWEEP ç­›é€‰
                              â”‚  (python cli.py sweep --buffers 40 --mins 2)
                              â”‚
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ç­›é€‰æ¡ä»¶:          â”‚
                    â”‚  â€¢ 40m buffer       â”‚
                    â”‚  â€¢ â‰¥2 SFH addresses â”‚
                    â”‚  â€¢ Zoning è¿‡æ»¤      â”‚
                    â”‚  â€¢ CPD è¿‡æ»¤         â”‚
                    â”‚  â€¢ __unit_blank__   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â†“
                        å‡å°‘ 36.5%
                              â”‚
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â‘¡ SAMPLE SET 2: SFH-ELIGIBLE SEGMENTS                          â”‚
â”‚     = Filtered for single-family housing eligibility            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°é‡: 20,874 segments (63.5% of City)                          â”‚
â”‚  æ¥æº: outputs/sweep/locked/eligible_b40_m2.parquet             â”‚
â”‚  åœ°å›¾: outputs/sweep/locked/eligible_b40_m2_map.html            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»Ÿè®¡:                                                           â”‚
â”‚    SFH åœ°å€æ€»æ•°: 215,424                                        â”‚
â”‚    å¹³å‡æ¯æ®µ: 10.3 addresses                                      â”‚
â”‚    Avg PCI: 66.8                                                â”‚
â”‚    Per Capita Income: $58,836                                   â”‚
â”‚    Hispanic: 26.3%, White: 46.2%, Asian: 16.3%, Black: 4.5%   â”‚
â”‚    College+: 50.6%                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åœ°å›¾å†…å®¹:                                                       â”‚
â”‚    ğŸ”µ è“è‰²çº¿ = åˆæ ¼è·¯æ®µ (20,874)                                â”‚
â”‚    âšª ç°è‰²çº¿ = ä¸åˆæ ¼è·¯æ®µ (12,014)                              â”‚
â”‚    ğŸŸ¢ ç»¿è‰²åŒºåŸŸ = åŒ…å«çš„ zoning                                  â”‚
â”‚    ğŸ”´ çº¢è‰²åŒºåŸŸ = æ’é™¤çš„ zoning                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚  BUNDLE æ„å»º
                              â”‚  (tests/quick_comparison_hard_constraint.py
                              â”‚   tests/quick_filter_bundles.py)
                              â”‚
                              â†“
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  æ„å»ºæ¡ä»¶:              â”‚
                    â”‚  â€¢ è¿é€šæ€§ (15m join)    â”‚
                    â”‚  â€¢ Multi-BFS ç®—æ³•       â”‚
                    â”‚  â€¢ Target: 60 addresses â”‚
                    â”‚  â€¢ Range: [48, 72]      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â†“
                        å‡å°‘ 17.8%
                              â”‚
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â‘¢ SAMPLE SET 3: BUNDLE SEGMENTS                                â”‚
â”‚     = Connected bundles within size constraints                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°é‡: 17,166 segments (52.2% of City, 82.2% of SFH-eligible)   â”‚
â”‚  æ¥æº: outputs/bundles/DH/bundles_multibfs_regroup_filtered.parquet â”‚
â”‚  åœ°å›¾: outputs/bundles/DH/bundles_multibfs_regroup_filtered_map.html â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»Ÿè®¡:                                                           â”‚
â”‚    Bundle æ•°é‡: 2,928                                           â”‚
â”‚    SFH åœ°å€æ€»æ•°: 179,112                                        â”‚
â”‚    å¹³å‡æ¯ bundle: 61.2 addresses                                â”‚
â”‚    å¹³å‡æ¯æ®µ: 10.4 addresses                                      â”‚
â”‚    Avg PCI: 67.2                                                â”‚
â”‚    Per Capita Income: $58,578                                   â”‚
â”‚    Hispanic: 26.4%, White: 46.0%, Asian: 16.3%, Black: 4.5%   â”‚
â”‚    College+: 50.3%                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åœ°å›¾å†…å®¹:                                                       â”‚
â”‚    ğŸ¨ ä¸åŒé¢œè‰² = ä¸åŒçš„ bundle (2,928 ä¸ª)                       â”‚
â”‚    ğŸ’¬ Tooltip æ˜¾ç¤º:                                             â”‚
â”‚       - bundle_id                                               â”‚
â”‚       - bundle_seg_count (bundle ä¸­çš„è·¯æ®µæ•°)                    â”‚
â”‚       - bundle_addr_total (bundle çš„æ€»åœ°å€æ•°)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


================================================================================
ç­›é€‰è¿‡ç¨‹æ€»ç»“
================================================================================

åŸå§‹è¡—æ®µ (32,888)
    â”‚
    â”œâ”€ æ’é™¤ 12,014 segments (36.5%)
    â”‚  åŸå› : å•†ä¸šåŒºã€å·¥ä¸šåŒºã€å…¬å›­ã€SFHä¸è¶³ã€zoning/CPDè¿‡æ»¤
    â”‚
    â†“
SFH-Eligible (20,874)
    â”‚
    â”œâ”€ æ’é™¤ 3,708 segments (17.8% of SFH-eligible)
    â”‚  åŸå› : å­¤ç«‹ã€æ— æ³•å½¢æˆè¿é€šbundleã€bundleå¤ªå°/å¤ªå¤§
    â”‚
    â†“
Bundle Segments (17,166)


================================================================================
Census æ•°æ®å¤„ç†æµç¨‹
================================================================================

NHGIS Shapefiles (å…¨å›½/å…¨å·èŒƒå›´)
    â†“
è¿‡æ»¤åˆ° San Diego County (COUNTYA == 73)
    â†“ 
    Block Groups: 2,057 â†’ 1,614 (è£å‰ªåˆ° City extent)
    Tracts: 1,385 â†’ 586 (è£å‰ªåˆ° City extent)
    â†“
ç©ºé—´è¿æ¥åˆ° Streets (æœ€å¤§é¢ç§¯é‡å )
    â†“
é™„åŠ åˆ°ä¸‰ä¸ªæ ·æœ¬é›† (demographics_table.py)
    â†“
    â‘  City Overall (32,888 segments)
    â‘¡ SFH-Eligible (20,874 segments)
    â‘¢ Bundle Segments (17,166 segments)


================================================================================
å…³é”®æ–‡ä»¶è·¯å¾„
================================================================================

æ ·æœ¬é›† 1 (City Overall):
  - æ— ä¸“é—¨æ–‡ä»¶ï¼Œç›´æ¥ä» DataSD shapefile åŠ è½½
  - /Users/iris/Dropbox/SanDiego311/data/raw/DataSD/sd_paving_segs_datasd/

æ ·æœ¬é›† 2 (SFH-Eligible):
  - æ•°æ®: outputs/sweep/locked/eligible_b40_m2.parquet
  - åœ°å›¾: outputs/sweep/locked/eligible_b40_m2_map.html
  - æ±‡æ€»: outputs/sweep/locked/summary.csv

æ ·æœ¬é›† 3 (Bundle Segments):
  - æ•°æ®: outputs/bundles/DH/bundles_multibfs_regroup_filtered.parquet
  - åœ°å›¾: outputs/bundles/DH/bundles_multibfs_regroup_filtered_map.html
  - å¯¹æ¯”å›¾: outputs/bundles/DH/comparison_greedy_vs_multibfs_regroup.png

äººå£ç»Ÿè®¡è¡¨:
  - åŸå§‹æ•°æ®: outputs/demographics_pci_table.csv
  - æ ¼å¼åŒ–ç‰ˆ: outputs/demographics_pci_table_formatted.csv
  - éªŒè¯æ–‡æ¡£: outputs/demographics_data_scope_validation.txt
  - æ ·æœ¬å®šä¹‰: outputs/demographics_sample_definitions.md

